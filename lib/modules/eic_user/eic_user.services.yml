services:
  eic_user.helper:
    class: Drupal\eic_user\UserHelper
    arguments: ['@entity_type.manager', '@current_user', '@database', '@flag.count']

  eic_user.flag_event_subscriber:
    class: Drupal\eic_user\EventSubscriber\FlagEventSubscriber
    arguments: [ '@eic_user.helper', '@entity_type.manager' ]
    calls:
      - [ setDocumentProcessor, [ '@?eic_search.solr_document_processor' ] ]
    tags:
      - { name: event_subscriber }
