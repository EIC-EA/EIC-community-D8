services:
  eic_groups.search_api_subscriber:
    class: Drupal\eic_groups\EventSubscriber\SearchApiSubscriber
    arguments: ['@eic_groups.helper']
    tags:
      - { name: event_subscriber }
  eic_groups.helper:
    class: Drupal\eic_groups\EICGroupsHelper
    arguments: ['@database', '@current_route_match', '@module_handler', '@current_user', '@datetime.time']
  eic_groups.book_page_redirect_subscriber:
    class: Drupal\eic_groups\EventSubscriber\BookPageRedirectSubscriber
    arguments: ['@book.manager', '@entity_type.manager']
    tags:
      - { name: event_subscriber }
  eic_groups.breadcrumb:
    class: Drupal\eic_groups\Breadcrumb\GroupBreadcrumbBuilder
    arguments: ['@book.breadcrumb', '@current_user']
    tags:
      - { name: breadcrumb_builder, priority: 1000 }
  eic_groups.access_check.flag.action.decorator:
    class: Drupal\eic_groups\Access\FlagAccessCheck
    decorates: access_check.flag.action
    decoration_priority: 1
    public: true
    arguments: ['@eic_groups.access_check.flag.action.decorator.inner', '@flag']
  eic_groups.access_check.unflag.action.decorator:
    class: Drupal\eic_groups\Access\UnFlagAccessCheck
    decorates: access_check.unflag.action
    decoration_priority: 1
    public: true
    arguments: ['@eic_groups.access_check.unflag.action.decorator.inner', '@flag']
  eic_groups.eic_flags.request_access_checker.decorator:
    class: Drupal\eic_groups\Access\FlagRequestAccessCheck
    decorates: eic_flags.request_access_checker
    decoration_priority: 1
    public: true
    arguments: ['@eic_groups.eic_flags.request_access_checker.decorator.inner', '@eic_flags.handler_collector']
  eic_groups.publish_group.access_checker:
    class: Drupal\eic_groups\Access\PublishGroupAccessChecker
    tags:
      - { name: access_check, applies_to: _publish_group_access_checker }
