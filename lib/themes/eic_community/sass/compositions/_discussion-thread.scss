.ecl-discussion-thread {
  $node: &;

  padding: ecl-box-model('padding');
  box-sizing: border-box;
  background-color: map-get($ecl-colors, 'grey-5');
  border-left: solid 4px transparent;

  [class*="ecl-section-wrapper--is-"] [class*="ecl-featured-content"] &,
  .ecl-section-wrapper:not([class*="ecl-section-wrapper--is-"])~.ecl-section-wrapper:not([class*="ecl-section-wrapper--is-"]):nth-child(2n - 1) & {
    background-color: map-get($ecl-colors, 'white');
  }

  &--from-contributor {
    border-color: ecl-typography('color', 'title');
    background-color: map-get($ecl-colors, 'blue-5');
  }

  &--has-compact-layout {
    padding: ecl-box-model('padding', 'controls');
  }

  &__main {
    display: flex;
    padding-bottom: ecl-box-model('padding');
    margin-bottom: ecl-box-model('padding');
    border-bottom: ecl-border();

    #{$node}--has-compact-layout & {
      padding-bottom: ecl-box-model('margin', 'controls');
      margin-bottom: ecl-box-model('margin', 'controls');
    }

    &:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }
  }

  &__image-wrapper {
    flex-shrink: 0;
    padding-right: ecl-box-model('padding');

    #{$node}--has-compact-layout & {
      padding-right: ecl-box-model('padding', 'controls');
    }
  }

  &__content {
    flex-grow: 1;

    @include ecl-media-breakpoint-down('sm') {
      display: flex;
      flex-direction: column;
    }
  }

  &__title {
    margin-top: 0;
    @include ecl-responsive-font('label');
  }

  &__description {
    @include ecl-responsive-font('meta');

    #{$node}--has-compact-layout & {
      @include visually-hidden;
    }
  }

  &__header {
    display: flex;
    justify-content: space-between;
    margin-top: ecl-box-model('padding');
    order: 1;

    @include ecl-media-breakpoint-up('md') {
      margin-top: 0;
      margin-bottom: ecl-box-model('padding');
      order: 0;
    }

    #{$node}--has-compact-layout & {
      @include visually-hidden;
    }
  }

  &__meta,
  &__featured-items {
    @include ecl-media-breakpoint-up('md') {
      padding-left: calc(#{map-get($ecl-media, '2xs')} + #{ecl-box-model('padding')});

      #{$node}--has-compact-layout & {
        padding-left: calc(#{map-get($ecl-media, '2xs')} + #{ecl-box-model('padding', 'controls')});
      }
    }
  }

  &__featured-items {
    padding-top: ecl-box-model('padding');
    margin-top: ecl-box-model('padding');
    border-top: ecl-border();

    #{$node}--has-compact-layout & {
      padding-top: ecl-box-model('margin', 'controls');
      margin-top: ecl-box-model('margin', 'controls');
    }
  }

  &__meta {
    display: flex;
    position: relative;
    align-items: center;
  }

  &__highlighted {
    color: ecl-typography('color', 'title');
    margin-right: ecl-box-model('padding');

    @include ecl-media-breakpoint-up('md') {
      position: absolute;
      margin: 0;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
    }
  }

  &__highlighted-label,
  &__started-by-label {
    @include visually-hidden;
  }

  &__author,
  & &__timestamp {
    margin: 0 ecl-box-model('padding') 0 0;
  }

  &__author,
  &__timestamp {
    @include ecl-responsive-font('meta');
  }

  &__author {
    font-weight: $ecl-font-weight-bold;
  }

  &__members,
  &__stats {
    flex-shrink: 0;
    margin-left: auto;
  }

  &__tags {
    margin-right: ecl-box-model('padding');

    @include ecl-media-breakpoint-down('sm') {
      @include visually-hidden;
    }
  }

  &__stats-items,
  &__tags-items {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: #{0 - ecl-box-model('margin', 'controls')};
    margin-right: #{0 - ecl-box-model('margin', 'controls')};
  }

  &__stats-item,
  &__tags-item {
    display: flex;
    flex-shrink: 0;
    margin-right: ecl-box-model('margin', 'controls');
    margin-bottom: ecl-box-model('margin', 'controls');
  }

  &__stats-item {
    align-items: center;
    color: ecl-typography('color', 'meta');
    @include ecl-responsive-font('meta');
  }

  &__stats-item-label {
    @include visually-hidden;
  }

  &__stats-item-icon {
    margin-right: ecl-box-model('padding', 'controls');
  }

  &__tag {
    @include ecl-responsive-font('meta');

    #{$node}--from-contributor & {
      background-color: map-get($ecl-colors, 'white');
    }
  }

  &__comment-thread {
    .ecl-comment {
      background-color: map-get($ecl-colors, 'white');
      padding: ecl-box-model('padding');

      &__header-main {
        display: flex;
      }

      &__author-info {
        flex-grow: 1;
      }

      &__footer {
        display: none;
      }
    }
  }
}
