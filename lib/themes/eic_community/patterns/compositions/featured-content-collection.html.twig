{% set title_element = title_element|default('h2') %}

<section class="ecl-featured-content-collection {{ extra_classes }}">
  <div class="ecl-container">
    <div class="ecl-featured-content-collection__header">
      {% if block('header_before') is defined %}
        <div class="ecl-featured-content-collection__header-before">{{ block('header_before') }}</div>
      {% endif %}
      <div class="ecl-featured-content-collection__header-main">
        {% if title is not empty %}
          <{{ title_element }} class="ecl-featured-content-collection__title">{{ title }}</{{ title_element }}>
        {% endif %}

        {% if description is not empty %}
          <div class="ecl-featured-content-collection__description">
            {{ description }}
          </div>
        {% endif %}
      </div>
      {% if block('header_after') is defined %}
        <div class="ecl-featured-content-collection__header-after">{{ block('header_after') }}</div>
      {% endif %}
    </div>

    <div class="ecl-featured-content-collection__items">
      {% for item in items %}
        <div class="ecl-featured-content-collection__item">
          {{ item.content }}
        </div>
      {% endfor %}
    </div>
    {% if call_to_action is not empty %}
      {% set _icon = {} %}

      {% if icon_file_path is not empty %}
        {% set _icon = {
          path: icon_file_path,
          name: call_to_action.icon.name|default('rounded-arrow'),
          type: call_to_action.icon.type|default('ui'),
          size: call_to_action.icon.size|default('xs'),
          transform: call_to_action.icon.transform|default('rotate-90'),
        } %}
      {% endif %}


      <footer class="ecl-featured-content-collection__footer">
        {% include "@ecl-twig/ec-component-link/ecl-link.html.twig" with {
          link: call_to_action.link|default({})|merge({
            type: 'standalone',
            icon_position: 'after',
          }),
          icon: _icon,
          extra_classes: 'ecl-link--call-to-action',
        } only  %}
      </footer>
    {% endif %}
  </div>
</section>
