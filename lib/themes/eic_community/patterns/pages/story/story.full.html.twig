{% extends "@theme/patterns/layout/base.html.twig" %}

{% block navigation %}
{% endblock %}

{% block page_header %}
  {% include "@theme/patterns/compositions/editorial-header.html.twig" with editorial_header|default({}) %}

  {% include "@theme/patterns/compositions/hero.html.twig" with hero|default({}) %}
{% endblock %}

{% block content %}
  {% embed "@theme/patterns/compositions/editorial-article.html.twig" with editorial_article|default({}) %}
    {% block content  %}
      {{ content }}
    {% endblock %}

    {% block sidebar  %}
      {% include "@theme/patterns/compositions/social-share.html.twig" with social_share|default({}) %}

      {% include "@theme/patterns/compositions/featured-contributors.html.twig" with contributors|default({}) %}

      {% include "@theme/patterns/compositions/featured-topics.html.twig" with topics|default({}) %}

      {% include "@theme/patterns/compositions/featured-stories.html.twig" with stories|default({}) %}
    {% endblock %}
  {% endembed %}

  {% if not auth %}
    {% embed "@theme/patterns/compositions/auth-banner.html.twig" with {
      title: "Please log in to see comments and contribute",
      extra_classes: 'ecl-section-wrapper--is-shaded',
      icon_file_path: common.icon_file_path,
      login: {
        label: "Login"
      },
      register: {
        label: "Register",
      },
    } %}
    {% endembed %}
  {% elseif comments is not empty %}
    {% include "@theme/patterns/compositions/comments-overview.html.twig" with comments|default({})|merge({
      extra_classes: 'ecl-section-wrapper--is-shaded',
    }) %}
  {% endif %}

{% endblock %}
