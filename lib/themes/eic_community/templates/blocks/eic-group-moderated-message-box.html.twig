{#
/**
 * @file
 * Default template for a pending/draft group's message box.
 *
 * Available variables:
 * - group: The group being displayed
 * - edit_link: Relative path to the edit form
 * - delete_link: Relative path to the delete form
 * - invite_link: Relative path to the add form for a group_invitation
 * - has_content: Boolean indicating whether or not the group has content
 * - has_member: Boolean indicating whether or not the group has admins or members
 * - actions: Array of content operations
 *
 * @ingroup themeable
 */
#}
{% set moderation_state = group.moderation_state.value %}
<div class="ecl-container">
{% if moderation_state == 'pending' %}
  {% embed "@theme/patterns/compositions/state-banner.html.twig" with {
    "icon": {"name": "warning", "type": "notifications"},
    "icon_file_path": eic_icon_path,
    "title": "Awaiting approval"|t
  } %}
    {% block description %}
      <p>{{ 'This group is pending approval from our community team. We will endeavour to approve the group within 3 days.'|t }}</p>
      <p>{{ 'You can still <a href="@edit_link">manage</a> or <a href="@delete_link">delete</a> your group'|t({'@delete_link': delete_link, '@edit_link': edit_link}) }}</p>
    {% endblock %}
  {% endembed %}
{% elseif moderation_state == 'draft' %}
  {% embed "@theme/patterns/compositions/state-banner.html.twig" with {
    "icon": {"name": "success", "type": "notifications"},
    "icon_file_path": eic_icon_path,
    "title": "Congratulations! Group approved"|t
  } %}
    {% block description %}
      <p>{{ 'We advise these steps to make your group ready:' }}</p>
      <ul>
        <li>{{ 'Configure your group: configure a welcome message for your GM\'s, configure the content section'|t }}</li>
        <li>{{ 'Create content in the group'|t }}</li>
        <li>{{ 'Publish your group'|t }}</li>
      </ul>
      <p>{{ '<a href="@help_link">Click here</a> if you need additional help'|t({'@help_link': '#'}) }}</p>
    {% endblock %}
  {% endembed %}
{% elseif moderation_state == 'published' and has_member == false %}
  {% embed "@theme/patterns/compositions/state-banner.html.twig" with {
  "icon": {"name": "success", "type": "notifications"},
  "icon_file_path": eic_icon_path,
  "title": "Great! Your group is published. Now invite people to the group"|t
  } %}
    {% block description %}
      <p>{{ '<a href="@invite_link">Invite users</a> so they can contribute and engage with your group.'|t({'@invite_link': invite_link}) }}</p>
      <p>{{ '<a href="@edit_link">Click here</a> if you want to make any changes to the settings of your group.'|t({'@edit_link': edit_link}) }}</p>
    {% endblock %}
  {% endembed %}
{% endif %}

{% if actions is not empty and (moderation_state == 'draft' or moderation_state == 'published') and has_content == false %}
  {% embed "@theme/patterns/compositions/simple-banner.html.twig" with {
    "title": "Get the conversation started"|t,
    "icon_file_path": eic_icon_path
  } %}
    {% block description %}
      <p>{{ 'Start discussions with other members.'|t }}</p>
    {% endblock %}
  {% endembed %}
{% endif %}
</div>
